apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: ticket-management-dev
  annotations:
    config.kubernetes.io/local-config: "true"

bases:
  - ../../base

namespace: ticket-dev

replicas:
  - name: backend-deployment
    count: 1
  - name: frontend-deployment
    count: 1

images:
  - name: 488363440930.dkr.ecr.ap-northeast-1.amazonaws.com/ticket-management-backend
    newTag: placeholder
  - name: 488363440930.dkr.ecr.ap-northeast-1.amazonaws.com/ticket-management-frontend
    newTag: placeholder

patchesStrategicMerge:
  - backend-dev-config.yaml
  - frontend-dev-config.yaml
  - ingress.yaml